# 02 – TypeScript strictness

Status: Enabled strict mode and applied minimal fixes without changing behavior.

## Config

- `strict: true`
- Includes:
  - `app/**/*.ts, app/**/*.tsx`
  - `src/**/*.ts, src/**/*.tsx`
  - `components/**/*.ts, components/**/*.tsx`
  - `lib/**/*.ts, lib/**/*.tsx`
  - `pages/**/*.ts, pages/**/*.tsx`
  - `scripts/**/*.ts, scripts/**/*.tsx`
  - plus `next-env.d.ts` and `.next/types/**/*.ts`

Generated resolved config at `docs/audit/tsconfig.resolved.json`.

## Fixes

- Errors before: 1
- Errors after: 0
- Top fixes (no behavior change):
  - IntersectionObserver callback parameter typed and narrowed
  - Safe access to `target.id` with explicit cast to `Element`

Files changed:

- `components/HowTo/ScrollSpyToc.tsx` – typed callback and narrowed `maxEntry`
- `tsconfig.json` – expanded include globs

## Result

- `npx tsc --noEmit` passes locally with zero errors.

## Risky patterns surfaced (document only)

- None observed beyond the IntersectionObserver entry typing.

## Manual QA note

- No runtime behavior changes; only type annotations and safe casts.
